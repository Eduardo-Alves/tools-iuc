<?xml version="1.0"?>
<tool id="bcftools_@EXECUTABLE@" name="bcftools @EXECUTABLE@" version="@VERSION@.0">
  <description>Create intersections, unions and complements of VCF files.</description>
  <expand macro="requirements"/>
  <expand macro="version_command"/>
  <expand macro="stdio"/>
  <macros>
    <token name="@EXECUTABLE@">view</token>
    <import>macros.xml</import>
  </macros>
  <command>bcftools @EXECUTABLE@

## Default section
--collapse "${sec_default.collapse}"
${sec_default.complement}
--exclude "${sec_default.exclude}"
#set values_sec_default_apply_filters = '","'.join([str($value) for $value in $sec_default.apply_filters_repeat])
--apply-filters "${values_sec_default_apply_filters}"
--include "${sec_default.include}"
--nfiles "${sec_default.nfiles}"
--output "${sec_default.output}"
--output-type "${sec_default.select_output_type}"
--prefix "${sec_default.prefix}"
#set values_sec_default_regions = '","'.join([str($value) for $value in $sec_default.regions_repeat])
--regions "${values_sec_default_regions}"
--regions-file "${sec_default.regions_file}"
#set values_sec_default_targets = '","'.join([str($value) for $value in $sec_default.targets_repeat])
--targets "${values_sec_default_targets}"
--targets-file "${sec_default.targets_file}"
#set values_sec_default_write = '","'.join([str($value) for $value in $sec_default.write_repeat])
--write "${values_sec_default_write}"
</command>
  <inputs>
    <section expanded="true" name="sec_default" title="Default Options">
      <param help="treat as identical records with &lt;snps|indels|both|all|some|none&gt;, see man page for details [none]" label="Collapse" name="collapse" optional="True" type="string"/>
      <param falsevalue="" help="output positions present only in the first file but missing in the others" label="Complement" name="complement" truevalue="--complement" type="boolean"/>
      <param help="exclude sites for which the expression is true" label="Exclude" name="exclude"/>
      <repeat name="apply_filters_repeat" title="Apply Filters">
        <param help="require at least one of the listed FILTER strings (e.g. &quot;PASS,.&quot;)" label="Apply Filters" name="apply_filters"/>
      </repeat>
      <param help="include only sites for which the expression is true" label="Include" name="include"/>
      <param help="output positions present in this many (=), this many or more (+), or this many or fewer (-) files" label="Nfiles" name="nfiles" optional="True" type="integer"/>
      <param format="data" help="write output to a file [standard output]" label="Output" name="output" optional="True" type="data"/>
      <param name="select_output_type" type="select">
        <option value="b">compressed BCF</option>
        <option value="u">uncompressed BCF</option>
        <option value="z">compressed VCF</option>
        <option selected="True" value="v">uncompressed VCF</option>
      </param>
      <param help="if given, subset each of the input files accordingly, see also -w" label="Prefix" name="prefix"/>
      <repeat name="regions_repeat" title="Regions">
        <param help="restrict to comma-separated list of regions" label="Regions" name="regions"/>
      </repeat>
      <param format="data" help="restrict to regions listed in a file" label="Regions File" name="regions_file" optional="True" type="data"/>
      <repeat name="targets_repeat" title="Targets">
        <param help="similar to -r but streams rather than index-jumps" label="Targets" name="targets"/>
      </repeat>
      <param format="data" help="similar to -R but streams rather than index-jumps" label="Targets File" name="targets_file" optional="True" type="data"/>
      <repeat name="write_repeat" title="Write">
        <param help="list of files to write with -p given as 1-based indexes. By default, all files are written" label="Write" name="write"/>
      </repeat>
    </section>
  </inputs>
  <outputs/>
  <tests/>
  <help>Create intersections, unions and complements of VCF files.</help>
  <expand macro="citations"/>
</tool>
