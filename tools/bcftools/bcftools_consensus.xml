<?xml version="1.0"?>
<tool id="bcftools_@EXECUTABLE@" name="bcftools @EXECUTABLE@" version="@VERSION@.0">
  <description>Create consensus sequence by applying VCF variants to a reference fasta file.</description>
  <expand macro="requirements"/>
  <expand macro="version_command"/>
  <expand macro="stdio"/>
  <macros>
    <token name="@EXECUTABLE@">view</token>
    <import>bcftools_macros.xml</import>
  </macros>
  <command>bcftools @EXECUTABLE@

## Default section
--fasta-ref "${sec_default.fasta_ref}"
--haplotype "${sec_default.select_haplotype}"
${sec_default.iupac_codes}
--mask "${sec_default.mask}"
--output "${sec_default.output}"
--chain "${sec_default.chain}"
--sample "${sec_default.sample}"
</command>
  <inputs>
    <section expanded="true" name="sec_default" title="Default Options">
      <param format="data" help="reference sequence in fasta format" label="Fasta Ref" name="fasta_ref" optional="True" type="data"/>
      <param name="select_haplotype" type="select">
        <option value="apply variants for the given haplotype"/>
      </param>
      <param falsevalue="" help="output variants in the form of IUPAC ambiguity codes" label="Iupac Codes" name="iupac_codes" truevalue="--iupac-codes" type="boolean"/>
      <param format="data" help="replace regions with N" label="Mask" name="mask" optional="True" type="data"/>
      <param format="data" help="write output to a file [standard output]" label="Output" name="output" optional="True" type="data"/>
      <param format="data" help="write a chain file for liftover" label="Chain" name="chain" optional="True" type="data"/>
      <param help="apply variants of the given sample" label="Sample" name="sample" optional="True" type="string"/>
    </section>
  </inputs>
  <outputs/>
  <tests/>
  <help>Create consensus sequence by applying VCF variants to a reference fasta file.</help>
  <expand macro="citations"/>
</tool>
