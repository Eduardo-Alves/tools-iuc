<?xml version="1.0"?>
<macros>
  <token name="@VERSION@">1.2</token>
  <xml name="stdio">
    <stdio>
      <exit_code range="1:"/>
      <exit_code range=":-1"/>
      <regex match="Error:"/>
      <regex match="Exception:"/>
    </stdio>
  </xml>
  <xml name="requirements">
    <requirements>
      <requirement type="package" version="1.2">bcftools</requirement>
    </requirements>
  </xml>
  <xml name="version_command">
    <version_command>bcftools 2&gt;&amp;1 | grep 'Version:'</version_command>
  </xml>
  <xml name="citations">
    <citations>
      <citation type="doi">10.1093/bioinformatics/btp352</citation>
      <yield/>
    </citations>
  </xml>
  <xml name="macro_exclude">
    <param help="exclude sites for which the expression is true (see man page for details)" label="Exclude" name="exclude"/>
  </xml>
  <xml name="macro_targets_file">
    <param format="data" help="similar to -R but streams rather than index-jumps" label="Targets File" name="targets_file" optional="True" type="data"/>
  </xml>
  <xml name="macro_samples_file">
    <param format="data" help="file of samples to include" label="Samples File" name="samples_file" optional="True" type="data"/>
  </xml>
  <xml name="macro_collapse">
    <param help="treat as identical records with &lt;snps|indels|both|all|some|none&gt;, see man page for details [none]" label="Collapse" name="collapse" optional="True" type="string"/>
  </xml>
  <xml name="macro_output_file">
    <param format="data" help="output file name [stdout]" label="Output File" name="output_file" optional="True" type="data"/>
  </xml>
  <xml name="macro_invert_samples">
    <param falsevalue="" help="inverts the query/filtering applied by Samples" label="Invert Samples" name="invert_samples" truevalue="^" type="boolean"/>
  </xml>
  <xml name="macro_apply_filters_repeat">
    <repeat name="apply_filters_repeat" title="Apply Filters">
      <param help="require at least one of the listed FILTER strings (e.g. &quot;PASS,.&quot;)" label="Apply Filters" name="apply_filters"/>
    </repeat>
  </xml>
  <xml name="macro_samples_repeat">
    <repeat name="samples_repeat" title="Samples">
      <param help="comma separated list of samples to annotate (or exclude with &quot;^&quot; prefix)" label="Samples" name="samples"/>
    </repeat>
  </xml>
  <xml name="macro_regions_repeat">
    <repeat name="regions_repeat" title="Regions">
      <param help="restrict to comma-separated list of regions" label="Regions" name="regions"/>
    </repeat>
  </xml>
  <xml name="macro_invert_samples_file">
    <param falsevalue="" help="inverts the query/filtering applied by Samples File" label="Invert Samples File" name="invert_samples_file" truevalue="^" type="boolean"/>
  </xml>
  <!-- Is there a valid reason to EVER store as anything other than VCF, and
       ONLY on request? I.e. maybe we should hardcode compressed BCF
       everywhere, and then only supply this macro in `bcftools view` or in a
       plain old converter of some type? -->
  <xml name="macro_select_output_type">
    <param name="select_output_type" type="select">
      <option selected="True" value="v">uncompressed VCF</option>
      <option value="z">compressed VCF</option>
      <option value="u">uncompressed BCF</option>
      <option value="b">compressed BCF</option>
    </param>
  </xml>
  <xml name="macro_regions">
    <param format="data" help="restrict to regions listed in a file" label="Regions File" name="regions_file" optional="True" type="data"/>
    <repeat name="targets_repeat" title="Targets">
      <param help="similar to -r but streams rather than index-jumps" label="Targets" name="targets"/>
    </repeat>
  </xml>
</macros>
