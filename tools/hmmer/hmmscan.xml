<?xml version="1.0"?>
<tool id="hmmer.hmmscan" name="hmmscan" version="@WRAPPER_VERSION@.0">
  <description>search sequence(s) against a profile database</description>
  <macros>
    <import>macros.xml</import>
  </macros>
  <expand macro="requirements"/>
  <expand macro="stdio"/>
  <command><![CDATA[
hmmscan

@OFORMAT_WITH_OPTS@
@THRESHOLDS@
@CUT@
@ACCEL_HEUR@
@ADV_OPTS@
@CPU@
@SEED@

$hmmdb
$seqfile
> $output
      ]]></command>
  <inputs>
      <param name="hmmdb" type="data" label="HMMPRESSed HMM model" />
      <!-- todo use Galaxy features like data libraries/data tables/??? -->
      <param name="seqfile" type="data" format="fasta"
          label="Sequence file" />

      <expand macro="oformat_with_opts" />
      <expand macro="thresholds_xml" />
      <expand macro="cut" />
      <expand macro="accel_heur_xml" />
      <expand macro="adv_opts" />
      <expand macro="seed" />
  </inputs>
  <outputs>
    <data format="txt" name="output" label="HMM matches of $hmmfile.name in $seqdb.name"/>
    <data format="tabular" name="tblout" label="Table of per-sequence hits from HMM matches of $hmmfile.name in $seqdb.name">
        <filter>'tblout' in str(oformat)</filter>
    </data>
    <data format="tabular" name="domtblout" label="Table of per-domain hits from HMM matches of $hmmfile.name in $seqdb.name">
        <filter>'domtblout' in str(oformat)</filter>
    </data>
    <data format="pfam" name="pfamtblout" label="Table of per-sequence/per-domain hits from HMM matches of $hmmfile.name in $seqdb.name">
        <filter>'pfamtblout' in str(oformat)</filter>
    </data>

  </outputs>
  <tests>
  </tests>
  <help><![CDATA[
**What it does**

Search a protein sequence against a protein profile HMM database

@ATTRIBUTION@
]]></help>
    <expand macro="citation" />
</tool>
