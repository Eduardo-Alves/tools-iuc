<tool id="picrust_categorize" name="Categorize by function" version="@WRAPPER_VERSION@.0">
    <description>collapse hierarchical data to a specified level</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <command detect_errors="aggressive"><![CDATA[
        categorize_by_function.py
            -i $inp_data
            -c "KEGG_Pathways"
            -l $SelectionNumber
            -o tempbiom

            @OUTPUT_CONVERSION_COMMANDS@
    ]]></command>
    <inputs>
        <param name="input_data" format="tabular,biom1" type="data" label="Input file" help="the output from the PICRISt predict tool"/>
        <param name="SelectionNumber" type="integer" value="3" min="1" label="KEGG Pathway Hierarchy Level"
               help="a value of 1 is the highest level, and any higher value nears the leaves of the hierarchy. For instance, if the hierarchy contains 4 levels, specifying 3 would collapse at one level above being fully specified"/>
        <expand macro="biom_format_select"/>
    </inputs>
    <outputs>
        <expand macro="biom_output"/>
    </outputs>
    <tests>
        <test>
        </test>
    </tests>
    <help>
<![CDATA[
@PICRUST_OVERVIEW@

**Command Documentation**

This module collapses hierarchical data to a specified level for PICRUSt predictions. For instance, often it is useful to examine KEGG results from a higher level within the pathway hierarchy.
Many genes are sometimes involved in multiple pathways, and in these circumstances (also know as a one-to-many relationship), the gene is counted for each pathway.

**Input file:** Output file from the predict tool

]]>
    </help>
    <expand macro="citations"/>
</tool>
