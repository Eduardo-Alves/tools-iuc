<tool id="jbrowse" name="jbrowse" version="1.0">
  <description></description>
  <stdio>
    <exit_code level="fatal" range="1:"/>
  </stdio>
  <version_command>python jbrowse.py --version</version_command>
  <command interpreter="python"><![CDATA[jbrowse.py
$positional_1

#set repeat_var_2 = '" "'.join([ str($var.gff3) for $var in $repeat_2 ])
#set repeat_var_3 = '" "'.join([ str($var.gff3.ext) for $var in $repeat_2 ])
#set repeat_var_4 = '" "'.join([ str($var.gff3_label) for $var in $repeat_2 ])

--gff3 "$repeat_var_2"
--gff3_format "$repeat_var_3"
--gff3_label "$repeat_var_4"


--tooldir $__tool_directory__
--outdir $default.files_path
> $default]]></command>
  <inputs>
    <param label="Genome" name="positional_1" type="data"/>
    <repeat name="repeat_2" title="Annotation Track">
      <param label="GFF3/BED" format="gff,gff3,bed" name="gff3"
          type="data"/>
      <param label="Dataset Label" name="gff3_label" type="text"/>
    </repeat>
  </inputs>
  <outputs>
    <data format="html" name="default" label="JBrowse on $positional_1.name"/>
  </outputs>
  <help><![CDATA[
Deploy a static JBrowse visualization of a genome and some associated datasets
]]></help>
</tool>

